Pandas visualisation
================================================================================

In order to use shellplot with pandas, we first need to set the plotting backend::


	>>> import pandas as pd
	>>> pd.set_option("plotting.backend", "shellplot")


Basic plotting
--------------------------------------------------------------------------------

The plot method is a wrapper around ``shellplot.plot`` function. For example, we can plot a series::


	>>> ts = pd.Series(np.random.randn(500)).cumsum()
	>>> ts.index = list(range(len(ts)))
	>>> ts.plot(figsize=(80, 30))

	   |                                                          +
	   |                                                          +
	   |                                                          +
	   |                                                         +++++
	   |                                                         + + +   +
	   |                                                         + ++++  ++
	   |                                                      +  + ++ +++++
	   |                                                      ++++     ++ +++
	   |                                                     ++++       + +++++
	 20┤                                                    ++  +           ++++
	   |                                                   ++                + +
	   |                                                ++++                   ++  ++
	   |                                                ++++                   +++  +
	   |                                          + +  +++ +                    +++++
	   |                                        + +++ +++                        ++ +
	   |                                      +++ ++ ++                              +
	   |                        +             ++  +  +                               +
	   |                        ++            ++++                                   ++
	   |                        +          + +  ++                                   ++
	  8┤                         + ++      +++   +                                    ++
	   |                 +     + ++++      +++
	   |      ++    + +++++  +++  ++++    ++                                           +
	   |        +   +++++ ++ +++     +    +                                            +
	   |     ++++++++++ +  + ++      +    +
	   |  +  +  ++++ +     +++        +
	   |++++++   ++         +         +   +
	   |++++++                         + +
	   | + +                          ++++
	   |                                ++
	 -4┤
	   └┬-------------------┬-------------------┬------------------┬-------------------┬
	    2000-01-01          2000-05-05          2000-09-07         2001-01-10          2001-05-15



On a dataframe, calling plot will create a scatterplot of all columns against the index::


	>>> df = pd.DataFrame(np.random.randn(500, 2), index=ts.index, columns=list("AB"))
	>>> df = df.cumsum()
	>>> df.plot(figsize=(80, 30))

	    |                                                                +
	    |                                                                +++
	    |                                                               +++++  +
	    |                                                               +   +++++ ++++  +
	    |                                                          ++  ++    ++ ++++++  +
	    |                                                      + +++++++         ++   ++
	    |                                                      +++++++++              ++
	    |                         +              ++         + ++++    +
	    |                 +      ++ +           ++++       ++++ ++
	  14┤                 +      ++++ +       ++++ +       ++++  +
	    |                ++      +  + ++++  + +++  ++      + +
	    |                + ***  ++   ++++ + ++++    ++     +
	    |      +         +******+    +    +++ +     +++  +
	    |     +++++     ++**+***+    *     +         +++++++
	    |  *   ++++++   **    ++*   ****               ++ +
	    | ** ++ ***** ****      ** *** *               ++
	    |****+******* ***       ****                    +                    **
	    |*++****  *  ****        **    *     **                              **
	    |++ ****     **           *     *    ***                            * *       **
	  -2┤            *                  *    ***                            *  **     ***
	    |                               ******  *                           * *****  ****
	    |                                ****   *                          **    ** ***
	    |                                   *    *   *                    **      * **
	    |                                        *   *                    **      ***
	    |                                        ** ****  **             * *       *
	    |                                         *** ** *****          **
	    |                                          **  * ****  *   ** ***
	    |                                              ***   *************
	    |                                               *    *** ***  **                 + A
	 -18┤                                                       *                        * B
	    └┬-------------------┬-------------------┬------------------┬-------------------┬
	     2000-01-01          2000-05-05          2000-09-07         2001-01-10          2001-05-15



Providing the keywords x and y allows to select columns::


	>>> df["A"] = pd.Series(df.index)
	>>> df.plot(x="A", y="B", figsize=(80, 30))

	    B
	    |     +
	   8┤
	    |     ++
	    |     ++
	    |     ++
	    |      +   +
	    |  +++++++++
	    |+++++  + ++ ++
	    |++++   ++++++
	    |++      ++ +++                                                             +  ++
	  -1┤        +  + +                                                             ++ ++
	    |              ++                                                          +++++
	    |              ++++                                                    +   +++++
	    |             ++++                                                     ++  + +
	    |               +++ +                                                     ++ +
	    |               + ++++                                              ++ ++++
	    |                  +++                                              ++  + +
	    |                  + +++           +     +                          ++ + +
	    |                    +++          ++     ++                        + ++  +
	    |                    +++         +++     +                            +  +
	 -10┤                    + ++       ++ ++   + +  +           +      +     +
	    |                       +        +  + +  ++  +        +  ++    +++ +
	    |                         + + ++    +++++ +++++         +++++ +++  +
	    |                       +++++ ++    +++    ++++     +++++ +++ +  +++
	    |                        +++++++       ++  + +      +++++     +  +++
	    |                          +++++       +      ++  +++  +  +++++   ++
	    |                          + ++        +      ++++ +  ++     +
	    |                                      +      ++++ ++        +
	    |                                               +++
	 -19┤                                               +
	    └┬-------------------┬-------------------┬------------------┬-------------------┬
	     0                   125                 250                375                 500
	                                             A


Bar plots
--------------------------------------------------------------------------------

Bar plots can be created by::


	>>> df = pd.DataFrame(np.random.randn(500, 4), columns=list("ABCD"))
	>>> df.iloc[5].abs().plot.barh(figsize=(60, 17))

	  |---------------------------------------------------
	  |                                                   |
	 D┤                                                   |
	  |                                                   |
	  |-----------------------------------------------------------
	  |                                                           |
	 C┤                                                           |
	  |                                                           |
	  |-----------------------------------------------------------
	  |         |
	 B┤         |
	  |         |
	  |-------------------------
	  |                         |
	 A┤                         |
	  |                         |
	  |-------------------------
	  └┬--------------┬---------------┬--------------┬-------------
	   0.0            0.4             0.8            1.2
	                                 5


Histograms
--------------------------------------------------------------------------------

Histograms can be created by::


	>>> df = pd.DataFrame(np.random.randn(10000, 1), columns=list("A"))
	>>> df["A"].plot.hist(bins=10)

	  counts
	 2850┤                               -----
	     |                              |     |
	     |                         -----|     |
	     |                        |     |     |
	     |                        |     |     |
	     |                        |     |     |
	     |                        |     |     |
	     |                        |     |     |
	 1900┤                        |     |     |
	     |                        |     |     |-----
	     |                        |     |     |     |
	     |                        |     |     |     |
	     |                   -----|     |     |     |
	     |                  |     |     |     |     |
	     |                  |     |     |     |     |
	     |                  |     |     |     |     |
	  950┤                  |     |     |     |     |
	     |                  |     |     |     |     |
	     |                  |     |     |     |     |
	     |                  |     |     |     |     |-----
	     |             -----|     |     |     |     |     |
	     |            |     |     |     |     |     |     |
	     |            |     |     |     |     |     |     |
	     |       -----|     |     |     |     |     |     |-----
	    0┤ -----|     |     |     |     |     |     |     |     |-----
	     └┬--------------┬--------------┬--------------┬--------------┬---------
	      -4             -2             0              2              4
	                                         A


Box plots
--------------------------------------------------------------------------------

Box plots can be created by::


	>>> df = pd.DataFrame(np.random.rand(10, 4), columns=list("ABCD"))
	>>> df.plot.box(figsize=(80, 27))

	  |
	  |             ------------------------------------------------------
	  |     |      |                        |                             |   |
	 D┤     |------|                        |                             |---|
	  |     |      |                        |                             |   |
	  |             ------------------------------------------------------
	  |
	  |
	  |                           -----------------
	  |            |             |        |        |                                  |
	 C┤            |-------------|        |        |----------------------------------|
	  |            |             |        |        |                                  |
	  |                           -----------------
	  |
	  |                  -------------------------------------------
	  |  |              |                  |                        |                |
	 B┤  |--------------|                  |                        |----------------|
	  |  |              |                  |                        |                |
	  |                  -------------------------------------------
	  |
	  |
	  |                    ----------------------------------------------
	  |     |             |                                     |        |            |
	 A┤     |-------------|                                     |        |------------|
	  |     |             |                                     |        |            |
	  |                    ----------------------------------------------
	  |
	  └┬-------------------┬-------------------┬------------------┬-------------------┬
	   0.0                 0.23                0.46               0.69                0.92



Scatter plots
--------------------------------------------------------------------------------

Scatter plots can be created by::


	>>> df = pd.DataFrame(np.random.rand(50, 2), columns=["a", "b"])
	>>> df["c"] = df["a"] > 0.5
	>>> df.plot.scatter(x="a", y="b", color="c", figsize=(80, 25))

	     b
	     |                      *                        *
	     |   *                    *
	 0.94┤                                 **
	     |           *
	     |                                  *
	     |                           *
	     |
	     |          *         *                                   *  *
	     |                                              *                     *
	 0.64┤  *            *     *               *                                        *
	     |                               * *                *
	     |                              *                                            *
	     |                *                         *                                  *
	     |                                             +  +
	     |                                                         +         +
	     |                                                  +
	 0.34┤                                                        +
	     |     +                                                         +
	     |                                                                 +
	     |                         +
	     |            +                        +                                   +
	     |                                   +                             +          +
	     |              +      +
	     |          +                                                      +              + False
	 0.04┤                                           +               +                    * True
	     └┬-------------------┬-------------------┬------------------┬-------------------┬
	      0.0                 0.25                0.5                0.75                1.0
	                                              a
